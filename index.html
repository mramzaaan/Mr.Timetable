<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mr. Timetable</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            animation: {
              'scale-in': 'scaleIn 0.2s ease-out forwards',
              'flash-red': 'flashRed 0.5s ease-in-out',
              'pulse-red': 'pulseRed 1.5s infinite',
            },
            keyframes: {
              scaleIn: {
                '0%': { transform: 'scale(0.95)', opacity: '0' },
                '100%': { transform: 'scale(1)', opacity: '1' },
              },
              flashRed: {
                '0%': { backgroundColor: 'var(--slot-conflict-bg)' },
                '50%': { backgroundColor: 'rgba(252, 165, 165, 0.5)' }, /* red-300 with opacity */
                '100%': { backgroundColor: 'var(--slot-conflict-bg)' },
              },
              pulseRed: {
                '0%, 100%': {
                  boxShadow: '0 0 0 2px #ef4444', /* red-500 */
                },
                '50%': {
                  boxShadow: '0 0 0 2px #f87171', /* red-400 */
                },
              },
            },
          },
        },
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Combined Google Fonts: Latin + Urdu (Gulzar, Amiri, Aref Ruqaa, Noto Nastaliq) -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Aref+Ruqaa:wght@400;700&family=Gulzar&family=Noto+Nastaliq+Urdu:wght@400;700&family=Anton&family=Antonio:wght@400;700&family=Bebas+Neue&family=Bodoni+Moda:opsz,wght@6..96,400..900&family=Bungee+Spice&family=Fjalla+One&family=Instrument+Serif:ital@0;1&family=Lato:wght@400;700&family=Merriweather:wght@400;700;900&family=Monoton&family=Montserrat:wght@400;500;700&family=Open+Sans:wght@400;600;700&family=Orbitron:wght@400;700&family=Oswald:wght@400;700&family=Playfair+Display:wght@400;700&family=Playwrite+CU:wght@100..400&family=Roboto:wght@400;500;700&family=Rubik+Mono+One&display=swap" rel="stylesheet">
    <style>
      /* Helper to improve rendering of Urdu fonts */
      .font-urdu {
        /* Default fallback stack for Urdu if no specific font is selected */
        font-family: 'Gulzar', 'Noto Nastaliq Urdu', serif;
        line-height: 1.8;
        font-weight: normal; /* Force normal weight to ensure Nastaliq fonts render correctly */
      }

      :root, .light {
        /* Base Colors - Clean & Professional (Light Theme - Purple Default) */
        --bg-primary: #f8fafc; /* slate-50 */
        --bg-secondary: #ffffff; /* white */
        --bg-tertiary: #f1f5f9; /* slate-100 */
        --text-primary: #0f172a; /* slate-900 */
        --text-secondary: #475569; /* slate-600 */
        --text-placeholder: #94a3b8; /* slate-400 */
        --border-primary: #e2e8f0; /* slate-200 */
        --border-secondary: #cbd5e1; /* slate-300 */
        
        /* Accent Colors - Primary Purple */
        --accent-primary: #7c3aed; /* violet-600 */
        --accent-primary-hover: #6d28d9; /* violet-700 */
        --accent-text: #ffffff;
        --accent-secondary: #f5f3ff; /* violet-50 */
        --accent-secondary-hover: #ede9fe; /* violet-100 */

        /* Timetable Slot Colors */
        --slot-available-bg: rgba(124, 58, 237, 0.08); /* violet tint */
        --slot-conflict-bg: rgba(239, 68, 68, 0.15); /* red tint */
        --slot-disabled-bg: #f1f5f9;

        /* Subject Colors - Slightly refined pastels */
        --subject-red-bg: #fee2e2; --subject-red-text: #991b1b; --subject-red-border: #fecaca;
        --subject-sky-bg: #e0f2fe; --subject-sky-text: #0369a1; --subject-sky-border: #bae6fd;
        --subject-green-bg: #dcfce7; --subject-green-text: #166534; --subject-green-border: #bbf7d0;
        --subject-yellow-bg: #fef9c3; --subject-yellow-text: #854d0e; --subject-yellow-border: #fef08a;
        --subject-purple-bg: #f3e8ff; --subject-purple-text: #6b21a8; --subject-purple-border: #e9d5ff;
        --subject-pink-bg: #fce7f3; --subject-pink-text: #9d174d; --subject-pink-border: #fbcfe8;
        --subject-indigo-bg: #e0e7ff; --subject-indigo-text: #3730a3; --subject-indigo-border: #c7d2fe;
        --subject-teal-bg: #ccfbf1; --subject-teal-text: #134e4a; --subject-teal-border: #99f6e4;
        --subject-orange-bg: #ffedd5; --subject-orange-text: #9a3412; --subject-orange-border: #fed7aa;
        --subject-lime-bg: #ecfccb; --subject-lime-text: #4d7c0f; --subject-lime-border: #d9f99d;
        --subject-cyan-bg: #cffafe; --subject-cyan-text: #0e7490; --subject-cyan-border: #a5f3fc;
        --subject-emerald-bg: #d1fae5; --subject-emerald-text: #065f46; --subject-emerald-border: #a7f3d0;
        --subject-fuchsia-bg: #fae8ff; --subject-fuchsia-text: #86198f; --subject-fuchsia-border: #f5d0fe;
        --subject-rose-bg: #ffe4e6; --subject-rose-text: #9f1239; --subject-rose-border: #fecdd3;
        --subject-amber-bg: #fef3c7; --subject-amber-text: #92400e; --subject-amber-border: #fde68a;
        --subject-blue-bg: #dbeafe; --subject-blue-text: #1e40af; --subject-blue-border: #bfdbfe;
        --subject-default-bg: #f3f4f6; --subject-default-text: #374151; --subject-default-border: #e5e7eb;
      }

      .dark {
        /* Dark Theme - Modern Deep Slate & Violet */
        --bg-primary: #020617; /* Slate 950 */
        --bg-secondary: #0f172a; /* Slate 900 */
        --bg-tertiary: #1e293b; /* Slate 800 */
        --text-primary: #f8fafc; /* Slate 50 */
        --text-secondary: #cbd5e1; /* Slate 300 */
        --text-placeholder: #64748b; /* Slate 500 */
        --border-primary: #1e293b;
        --border-secondary: #334155;
        
        --accent-primary: #8b5cf6; /* Violet 500 */
        --accent-primary-hover: #a78bfa; /* Violet 400 */
        --accent-text: #ffffff;
        --accent-secondary: #1e293b; 
        --accent-secondary-hover: #334155;
        
        --slot-available-bg: rgba(139, 92, 246, 0.15); 
        --slot-conflict-bg: rgba(248, 113, 113, 0.2); 
        --slot-disabled-bg: #1e293b;
        
        /* Dark mode subject colors */
        --subject-red-bg: #450a0a; --subject-red-text: #fecaca; --subject-red-border: #7f1d1d;
        --subject-sky-bg: #0c4a6e; --subject-sky-text: #bae6fd; --subject-sky-border: #075985;
        --subject-green-bg: #14532d; --subject-green-text: #bbf7d0; --subject-green-border: #166534;
        --subject-yellow-bg: #422006; --subject-yellow-text: #fef08a; --subject-yellow-border: #713f12;
        --subject-purple-bg: #581c87; --subject-purple-text: #e9d5ff; --subject-purple-border: #6b21a8;
        --subject-pink-bg: #831843; --subject-pink-text: #fbcfe8; --subject-pink-border: #9d174d;
        --subject-indigo-bg: #312e81; --subject-indigo-text: #c7d2fe; --subject-indigo-border: #3730a3;
        --subject-teal-bg: #134e4a; --subject-teal-text: #99f6e4; --subject-teal-border: #0f766e;
        --subject-orange-bg: #7c2d12; --subject-orange-text: #fed7aa; --subject-orange-border: #9a3412;
        --subject-lime-bg: #365314; --subject-lime-text: #d9f99d; --subject-lime-border: #4d7c0f;
        --subject-cyan-bg: #155e75; --subject-cyan-text: #a5f3fc; --subject-cyan-border: #0e7490;
        --subject-emerald-bg: #064e3b; --subject-emerald-text: #a7f3d0; --subject-emerald-border: #065f46;
        --subject-fuchsia-bg: #701a75; --subject-fuchsia-text: #f5d0fe; --subject-fuchsia-border: #86198f;
        --subject-rose-bg: #881337; --subject-rose-text: #fecdd3; --subject-rose-border: #9f1239;
        --subject-amber-bg: #78350f; --subject-amber-text: #fde68a; --subject-amber-border: #b45309;
        --subject-blue-bg: #1e3a8a; --subject-blue-text: #bfdbfe; --subject-blue-border: #2563eb;
        --subject-default-bg: #374151; --subject-default-text: #d1d5db; --subject-default-border: #4b5563;
      }
      
      .contrast {
        /* High Contrast - Sharp Black/White/Blue */
        --bg-primary: #ffffff; --bg-secondary: #ffffff; --bg-tertiary: #f0f0f0;
        --text-primary: #000000; --text-secondary: #000000; --text-placeholder: #444444;
        --border-primary: #000000; --border-secondary: #000000;
        --accent-primary: #0000ff; --accent-primary-hover: #0000cc; --accent-text: #ffffff;
        --accent-secondary: #e6e6ff; --accent-secondary-hover: #ccccff;
        --slot-available-bg: #ccffcc; --slot-conflict-bg: #ffcccc; --slot-disabled-bg: #aaaaaa;
        --subject-red-bg: #ffdddd; --subject-red-text: #000000; --subject-red-border: #000000;
        --subject-sky-bg: #ddddff; --subject-sky-text: #000000; --subject-sky-border: #000000;
        --subject-green-bg: #ddffdd; --subject-green-text: #000000; --subject-green-border: #000000;
        --subject-yellow-bg: #ffffcc; --subject-yellow-text: #000000; --subject-yellow-border: #000000;
        --subject-purple-bg: #eeddff; --subject-purple-text: #000000; --subject-purple-border: #000000;
        --subject-pink-bg: #ffddff; --subject-pink-text: #000000; --subject-pink-border: #000000;
        --subject-indigo-bg: #ddeeff; --subject-indigo-text: #000000; --subject-indigo-border: #000000;
        --subject-teal-bg: #ccffff; --subject-teal-text: #000000; --subject-teal-border: #000000;
        --subject-orange-bg: #ffeecc; --subject-orange-text: #000000; --subject-orange-border: #000000;
        --subject-lime-bg: #eeffcc; --subject-lime-text: #000000; --subject-lime-border: #000000;
        --subject-cyan-bg: #ccffff; --subject-cyan-text: #000000; --subject-cyan-border: #000000;
        --subject-emerald-bg: #ccffee; --subject-emerald-text: #000000; --subject-emerald-border: #000000;
        --subject-fuchsia-bg: #ffddff; --subject-fuchsia-text: #000000; --subject-fuchsia-border: #000000;
        --subject-rose-bg: #ffdddd; --subject-rose-text: #000000; --subject-rose-border: #000000;
        --subject-amber-bg: #fffbeb; --subject-amber-text: #000000; --subject-amber-border: #000000;
        --subject-blue-bg: #e0f2fe; --subject-blue-text: #000000; --subject-blue-border: #000000;
        --subject-default-bg: #eeeeee; --subject-default-text: #000000; --subject-default-border: #000000;
      }
      
      .mint {
        /* Fresh Emerald */
        --bg-primary: #f0fdfa; --bg-secondary: #ffffff; --bg-tertiary: #ccfbf1;
        --text-primary: #042f2e; --text-secondary: #115e59; --text-placeholder: #5eead4;
        --border-primary: #99f6e4; --border-secondary: #5eead4;
        --accent-primary: #059669; --accent-primary-hover: #047857; --accent-text: #ffffff;
        --accent-secondary: #d1fae5; --accent-secondary-hover: #a7f3d0;
        --slot-available-bg: rgba(5, 150, 105, 0.1); --slot-conflict-bg: rgba(239, 68, 68, 0.2); --slot-disabled-bg: #f0fdfa;
      }
      
      .ocean {
        /* Deep Blue */
        --bg-primary: #f0f9ff; --bg-secondary: #ffffff; --bg-tertiary: #e0f2fe;
        --text-primary: #082f49; --text-secondary: #0369a1; --text-placeholder: #38bdf8;
        --border-primary: #bae6fd; --border-secondary: #7dd3fc;
        --accent-primary: #0284c7; --accent-primary-hover: #0369a1; --accent-text: #ffffff;
        --accent-secondary: #e0f2fe; --accent-secondary-hover: #bae6fd;
        --slot-available-bg: rgba(2, 132, 199, 0.1); --slot-conflict-bg: rgba(239, 68, 68, 0.2); --slot-disabled-bg: #f0f9ff;
      }

      .sunset {
        /* Warm Amber/Orange */
        --bg-primary: #fff7ed; --bg-secondary: #ffffff; --bg-tertiary: #ffedd5;
        --text-primary: #431407; --text-secondary: #9a3412; --text-placeholder: #fb923c;
        --border-primary: #fed7aa; --border-secondary: #fdba74;
        --accent-primary: #ea580c; --accent-primary-hover: #c2410c; --accent-text: #ffffff;
        --accent-secondary: #ffedd5; --accent-secondary-hover: #fed7aa;
        --slot-available-bg: rgba(234, 88, 12, 0.1); --slot-conflict-bg: rgba(124, 58, 237, 0.2); --slot-disabled-bg: #fff7ed;
      }

      .rose {
        /* Romantic Pink */
        --bg-primary: #fff1f2; --bg-secondary: #ffffff; --bg-tertiary: #ffe4e6;
        --text-primary: #881337; --text-secondary: #be123c; --text-placeholder: #fb7185;
        --border-primary: #fecdd3; --border-secondary: #fda4af;
        --accent-primary: #e11d48; --accent-primary-hover: #be123c; --accent-text: #ffffff;
        --accent-secondary: #ffe4e6; --accent-secondary-hover: #fecdd3;
        --slot-available-bg: rgba(225, 29, 72, 0.1); --slot-conflict-bg: rgba(13, 148, 136, 0.2); --slot-disabled-bg: #fff1f2;
      }
      
      .amoled {
        /* Pure Black & Neon */
        --bg-primary: #000000; --bg-secondary: #050505; --bg-tertiary: #121212;
        --text-primary: #ffffff; --text-secondary: #a3a3a3; --text-placeholder: #525252;
        --border-primary: #262626; --border-secondary: #404040;
        --accent-primary: #00e5ff; --accent-primary-hover: #1adfff; --accent-text: #000000;
        --accent-secondary: #171717; --accent-secondary-hover: #262626;
        --slot-available-bg: rgba(0, 229, 255, 0.15); --slot-conflict-bg: rgba(255, 59, 48, 0.2); --slot-disabled-bg: #171717;
        /* Subject colors tailored for deep dark */
        --subject-red-bg: #450a0a; --subject-red-text: #fecaca; --subject-red-border: #7f1d1d;
        --subject-sky-bg: #0c4a6e; --subject-sky-text: #bae6fd; --subject-sky-border: #075985;
        --subject-green-bg: #14532d; --subject-green-text: #bbf7d0; --subject-green-border: #166534;
        --subject-yellow-bg: #422006; --subject-yellow-text: #fef08a; --subject-yellow-border: #713f12;
        --subject-purple-bg: #581c87; --subject-purple-text: #e9d5ff; --subject-purple-border: #6b21a8;
        --subject-pink-bg: #831843; --subject-pink-text: #fbcfe8; --subject-pink-border: #9d174d;
        --subject-indigo-bg: #312e81; --subject-indigo-text: #c7d2fe; --subject-indigo-border: #3730a3;
        --subject-teal-bg: #134e4a; --subject-teal-text: #99f6e4; --subject-teal-border: #0f766e;
        --subject-orange-bg: #7c2d12; --subject-orange-text: #fed7aa; --subject-orange-border: #9a3412;
        --subject-lime-bg: #365314; --subject-lime-text: #d9f99d; --subject-lime-border: #4d7c0f;
        --subject-cyan-bg: #155e75; --subject-cyan-text: #a5f3fc; --subject-cyan-border: #0e7490;
        --subject-emerald-bg: #064e3b; --subject-emerald-text: #a7f3d0; --subject-emerald-border: #065f46;
        --subject-fuchsia-bg: #701a75; --subject-fuchsia-text: #f5d0fe; --subject-fuchsia-border: #86198f;
        --subject-rose-bg: #881337; --subject-rose-text: #fecdd3; --subject-rose-border: #9f1239;
        --subject-amber-bg: #78350f; --subject-amber-text: #fde68a; --subject-amber-border: #b45309;
        --subject-blue-bg: #1e3a8a; --subject-blue-text: #bfdbfe; --subject-blue-border: #2563eb;
        --subject-default-bg: #374151; --subject-default-text: #d1d5db; --subject-default-border: #4b5563;
      }

      /* Custom Select Style Override */
      select {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
        border-radius: 0.5rem;
        transition: all 0.2s;
      }
      html[dir="rtl"] select {
        background-position: left 0.5rem center;
        padding-right: 0.75rem;
        padding-left: 2.5rem;
      }
      select:focus {
        ring-width: 2px;
        border-color: var(--accent-primary);
        box-shadow: 0 0 0 3px var(--slot-available-bg);
      }

      /* Ensure form elements respect body font */
      option, input, textarea, button {
        font-family: inherit;
      }
      
      /* Drag and Drop Styles */
      .drop-target-available {
        outline: 2px dashed var(--accent-primary);
        outline-offset: -4px;
        background-color: var(--slot-available-bg) !important;
      }
      .drop-target-conflict {
        outline: 2px dashed #ef4444; /* red-500 */
        outline-offset: -4px;
        background-color: var(--slot-conflict-bg) !important;
      }
      .unscheduled-drop-target {
        outline: 2px dashed #ef4444; /* red-500 */
        outline-offset: -4px;
        background-color: var(--slot-conflict-bg) !important;
      }
      .period-ghost {
        opacity: 0.4 !important;
        background-color: var(--bg-tertiary) !important;
        border-style: dashed !important;
        color: var(--text-secondary) !important;
      }
      .period-ghost > * {
        visibility: hidden;
      }
      .drop-conflict-flash {
        animation: flashRed 0.5s ease-in-out;
      }
      .period-conflict {
        animation: pulseRed 1.5s infinite;
        box-shadow: 0 0 0 2px #ef4444; /* Initial state for animation */
      }

      @media print {
        body {
            -webkit-print-color-adjust: exact !important;
            color-adjust: exact !important;
            background-color: #fff !important;
        }
        .no-print, .no-print * {
          display: none !important;
        }
      }
    </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0"
  }
}
</script>
</head>
  <body class="bg-[var(--bg-primary)]">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>